О НИМС
======

НИМС - что это?

	НИМС - это редактор для написания вводных для ролевых игр (РИ). Это его основная функция, и именно это он должен делать хорошо. Помимо этого, с его помощью решаются побочные задачи, но об этом позже.
	НИМС реализован в виде интерактивной веб-страницы. Все, что вам нужно для работы с НИМС это веб-браузер. Проверялась работа программы в Firefox, Chrome и Internet Explorer. Для работы НИМСу не требуется соединение с интернетом, так же, как не требуется интернет для работы калькулятора.
	
Какой-то НИМС большой и сложный...

	С момента первого релиза НИМС значительно усложнился, так как увеличился список решаемых задач. Не обязательно пользоваться всеми функциями НИМСа с первого дня. Для первой игры вам будет достаточно освоить цикл разработки вводной: история-событие-адаптация-выгрузка. Далее можно переходить к более сложным задачам в порядке увеличения сложности (субъективно): 
	
	#. Концепции
		#. История, персонаж, адаптация, вводная
		#. База
		#. Диаграммы и статистика
		#. Отношения
		#. Инвентарь
		#. Досье персонажа
		#. Таймлайн
		#. Соц сеть
		#. Фильтр
		#. Группа
		#. Карта сюжета - группа, ресурс, связи
		#. Многопользовательский режим - админ, редактор, автор, владелец, режимы наследования на вычитку
		#. Анализ загруженности игроков
		#. Выгрузка
		
	
	#. Минимальный набор
		#. Работа с базой, база пример и документация
		#. Начало работы - название и даты
		#. Управление персонажами и просмотр
		#. Управление историями и просмотр
		#. Мастерская история
		#. Управление событиями
		#. Добавление персонажа в историю
		#. Включение персонажа в событие
		#. Редактирование адаптаций - 2 режима
		#. Завершенность адаптаций
		#. Вычитка вводных
		#. Простая выгрузка
		#. Настройка выгрузки историй (Продвинутая выгрузка)
		
	#. Многопользовательский режим
		#. Управление пользователями
		#. Режим редактора
		#. Права на владение
		#. Режимы наследования на вычитку
		#. Лог
		
	#. Статистика и диаграммы
		#. Диаграммы историй и персонажей, статистики (?)
		#. Диаграмма количества знаков, статистики (?)
		#. Диаграмма завершенности, статистики (Завершенность адаптаций)
		#. Диаграмма принадлежности (Многопользовательский режим)
		#. Поля досье для диаграмм (Досье персонажей)
	
	#. Отношения между персонажами
		#. Добавление/удаление отношения
		#. Просмотр данных о персонаже (Досье персонажей)
		#. Настройка выгрузки (Продвинутая выгрузка)
	
	#. Инвентарь
		#. Редактирование инвентаря
		#. Вычитка инвентаря
		#. Настройка выгрузки (Продвинутая выгрузка)
		
	#. Досье персонажей
		#. Конструирование досье
		#. Использование досье
		#. Настройка выгрузки (Продвинутая выгрузка)
	
	#. Таймлайн (Управление событиями)
		#. Просмотр хронологии событий нескольких историй
		
	#. Фильтр персонажей (Досье персонажей)
		#. Поля для вывода из досье
		#. Статистические поля для вывода
		#. Выбор полей для вывода
		#. Настройка фильтра
		#. Результат фильтрации + сортировка
		#. Управление группами (см. Группы)
		#. Сохранение фильтра в группу (см. Группы)
		
	#. Социальная сеть
		#. Раскраска узла (Досье персонажа)
		#. Выборка объектов
		#. Соц сеть связей
		#. Соц сеть историй
		#. Соц сеть активности (Анализ загруженности игроков)
		
	#. Группы персонажей
		#. Управление группами
		#. Фильтр в/из группу/ы
		#. Досье группы
		#. Иерархия групп
		#. Настройка выгрузки (Продвинутая выгрузка)
		
	#. Карта сюжета
		#. Управление группами
		#. Управление ресурсами
		#. Управление связями
	
	#. Анализ загруженности игроков
		#. Заполнение данных об активности
		#. Использование данных об активности - фильтр и соц. сеть
		
	#. Продвинутая выгрузка
		#. Основы выгрузки - шаблон и выдача
		#. Данные для выгрузки
		#. Язык шаблона Mustache
		#. Язык шаблона docxtemplater
		#. Выгрузка многострочных текстов
		#. Спецсимволы в Mustache
		
	#. Приложение 1. Интерфейс
		#. Принцип отображения информации
		#. Селекторы: одиночные, множественные, фильтруемые
		#. Сворачивание панелей
		#. Растягивание текстовых полей
		#. Блокированные поля (Многопользовательский режим)
		#. Диаграммы (?)
		#. Социальные сети (исключение из правил) (?)
		#. Сохраняемые настройки страниц

Порядок работы с НИМС

	1. Открываете НИМС
	2. Загружаете базу для редактирования
	3. Вносите изменения
	4. Сохраняете базу для последующего запуска

	НИМС не может работать напрямую с файлом, поэтому сохранение не выполняется сразу в файл. Это необходимо делать отдельно. На закрытии вкладки с НИМС всегда показывается напоминалка о необходимости сохранения базы.
	В процессе работы с НИМС все изменения сразу сохраняются в странице. Например, при изменении текста описания игры на первой странице, как только вы завершите ввод, текст будет сохранен.
	Сохраненный файл базы является обычным текстовым файлом фиксированной структуры. Если любопытно, откройте его в любом текстовом редакторе, только помните, что при внесении изменений вручную база может не загрузиться в НИМС при следующем запуске.

Технические подробности в двух словах

	НИМС написан на языке JavaScript с использованием библиотек jQuery (календарь для ввода дат), Vis (таймлайн и социальные сети) и Chart.js (круговые диаграммы), Docxtemplater (выгрузка в docx), Mustache (текстовая выгрузка), Bootstrap 3 (элементы дизайна), Jasmine (тесты), Ramda (элементы функционального программирования), Select2 (списки с поиском). База данных хранится в формате json.
	
	Исходный код НИМСа открыт под лицензией Apache 2.0. Последняя версия НИМСа находится в репозитории https://bitbucket.org/NtsDK/story-master-toolkit-smtk-nims/downloads. Все возможные ресурсы по НИМС, такие как презентация, документация, пробная онлайн версия и так далее доступны на сайте автора http://trechkalov.com/.
		
Специальные обозначения

	*курсив* - термины. ``Моноширинный шрифт`` - названия кнопок и элементов страниц.
	
Благодарности

	Благодарим Анну Волю Махнёву и Александра Сэша Махнёва за первое тестирование НИМС и обратную связь.
	
Контакты по вопросам эксплуатации и предложения:

	Почта: ntsdk(dog)yandex(dot)ru, matilda_(dog)list(dot)ru

	Сайт автора: http://trechkalov.com/
	
	Группа проекта вконтакте: http://vk.com/larp_nims
